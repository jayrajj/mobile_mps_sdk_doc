<!DOCTYPE html>
<html lang="en">
  <head>
    <title>2 SDK Initialization  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>


    <a title="2 SDK Initialization  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          nbcu_mps_ios_sdk Docs
        </a>
         (100% documented)
      </p>
    
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">nbcu_mps_ios_sdk Reference</a>
      <img class="carat" src="img/carat.png" />
      2 SDK Initialization  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="1-project-setup.html">1 Project setup</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="2-sdk-initialization.html">2 SDK Initialization</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="3-request-banner-programmatically.html">3 Request Banner Programmatically</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="4-request-banner-with-storyboard.html">4 Request Banner with Storyboard</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="5-request-interstitial-ad.html">5 Request Interstitial Ad</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="6-additional-functionality.html">6 Additional Functionality</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="7-test-app--installation.html">7 Test App &amp; Installation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MPS.html">MPS</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MPSBannerAdView.html">MPSBannerAdView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MPSInterstitialAd.html">MPSInterstitialAd</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MPSPage.html">MPSPage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MPSPageParameters.html">MPSPageParameters</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MPSSDKLogLevel.html">MPSSDKLogLevel</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MPSBannerAdViewDelegate.html">MPSBannerAdViewDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MPSInterstitialAdDelegate.html">MPSInterstitialAdDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <h1 id='initialization' class='heading'>Initialization</h1>

<p>You are now ready to create an MPS instance for requesting banner and interstitial ads.  </p>

<p>First, open your <strong>ViewController.swift</strong> or <strong>ViewController.m</strong> files (Swift and Objective-C respectively) and add <strong>import nbcu_mps_ios_sdk</strong> to access the SDK&rsquo;s public API methods.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="n">nbcu_mps_ios_sdk</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="k">@import</span> <span class="n">nbcu_mps_ios_sdk</span><span class="p">;</span>
</code></pre>

<p>You can now create an instance of MPS with the appropriate host URL and site by initializing the library. You can also specify the log level for this instance. Refer to <strong>MPSSDKLogLevel</strong> in the documentation for more details.  </p>

<p>Add the following code in your <strong>ViewController.swift</strong> file:</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">mps</span><span class="p">:</span> <span class="kt">MPS</span><span class="o">!</span>
<span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// explicit with base URL</span>
    <span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://mps.nbcuni.com"</span><span class="p">)</span><span class="o">!</span>
    <span class="k">let</span> <span class="nv">site</span> <span class="o">=</span> <span class="s">"test-sdk"</span>
    <span class="n">mps</span> <span class="o">=</span> <span class="kt">MPS</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="nv">site</span><span class="p">:</span> <span class="n">site</span><span class="p">,</span> <span class="nv">logLevel</span><span class="p">:</span> <span class="o">.</span><span class="n">debug</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Or, add this code to your <strong>ViewController.m</strong> file,</p>
<pre class="highlight objective_c"><code><span class="k">@interface</span> <span class="nc">AppDelegate</span> <span class="p">()</span>
<span class="p">{</span>
    <span class="n">MPS</span> <span class="o">*</span><span class="n">mps</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
    <span class="c1">// explicit with base URL
</span>    <span class="n">NSURL</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://mps.nbcuni.com"</span><span class="p">];</span>
    <span class="n">NSString</span> <span class="o">*</span><span class="n">site</span> <span class="o">=</span> <span class="s">@"test-sdk"</span><span class="p">;</span>
    <span class="n">mps</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MPS</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithUrl</span><span class="p">:</span><span class="n">url</span> <span class="nf">site</span><span class="p">:</span><span class="n">site</span> <span class="n">logLevel</span><span class="o">:</span> <span class="n">MPSSDKLogLevelDebug</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
<h2 id='request-an-mpspage-object' class='heading'>Request an MPSPage Object</h2>

<p>The MPS library operates with the concept of an MPSPage, which is similar to one web page. 
You will use this MPSPage object to request ads. </p>

<p>To achieve this we create an instance of MPSPageParameters which facilitates building the request that will be sent to MPS. The list of all configurable properties are presented in the library documentation. </p>

<p>For example:</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">mps</span><span class="p">:</span> <span class="kt">MPS</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">page</span><span class="p">:</span> <span class="kt">MPSPage</span><span class="o">!</span>
<span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://mps.nbcuni.com"</span><span class="p">)</span><span class="o">!</span>
    <span class="k">let</span> <span class="nv">site</span> <span class="o">=</span> <span class="s">"test-sdk"</span>
    <span class="n">mps</span> <span class="o">=</span> <span class="kt">MPS</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="nv">site</span><span class="p">:</span> <span class="n">site</span><span class="p">,</span> <span class="nv">logLevel</span><span class="p">:</span> <span class="o">.</span><span class="n">debug</span><span class="p">)</span>
    <span class="c1">// OR  mps = MPS(url: url, site: site, logLevel: .debug, enableTestMode: true) if you need debug MPS mode</span>

    <span class="k">let</span> <span class="nv">params</span> <span class="o">=</span> <span class="kt">MPSPageParameters</span><span class="p">(</span><span class="nv">path</span><span class="p">:</span> <span class="s">"TEST"</span><span class="p">)</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">mps</span><span class="o">.</span><span class="nf">requestPageObject</span><span class="p">(</span><span class="nv">params</span><span class="p">:</span> <span class="n">param</span><span class="p">,</span> <span class="nv">rootViewController</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="k">@interface</span> <span class="nc">ViewController</span> <span class="p">()</span>
<span class="p">{</span>    
    <span class="n">MPS</span> <span class="o">*</span><span class="n">mps</span><span class="p">;</span>
    <span class="n">MPSPage</span> <span class="o">*</span><span class="n">page</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">super</span> <span class="nf">viewDidLoad</span><span class="p">];</span>

    <span class="n">NSURL</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://mps.nbcuni.com"</span><span class="p">];</span>
    <span class="n">NSString</span> <span class="o">*</span><span class="n">site</span> <span class="o">=</span> <span class="s">@"test-sdk"</span><span class="p">;</span>
    <span class="n">mps</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MPS</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithUrl</span><span class="p">:</span><span class="n">url</span> <span class="nf">site</span><span class="p">:</span><span class="n">site</span> <span class="n">loglevel</span><span class="o">:</span> <span class="n">MPSSDKLogLevelDebug</span><span class="p">];</span>

    <span class="n">MPSParameters</span> <span class="o">*</span><span class="n">params</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MPSParameters</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithPath</span><span class="p">:</span><span class="s">@"page"</span><span class="p">];</span>
    <span class="n">page</span> <span class="o">=</span> <span class="p">[</span><span class="n">mps</span> <span class="nf">requestPageObject</span><span class="p">:</span> <span class="n">param</span><span class="p">,</span> <span class="nf">rootViewController</span><span class="p">:</span> <span class="n">self</span><span class="p">];</span>
</code></pre>

<p>At this point you should be ready to build and run your application in your simulator. </p>

<p>Next we will work on requesting banner and interstital ads, and adding them to the view hierarchy.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>NBC Universal</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
